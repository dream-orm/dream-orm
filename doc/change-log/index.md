# dream-orm 升级日志

## v1.3.4

- 废弃：去除emit，由于在non函数无法做到空去除bug
- 修复：解决postgres cast语句out of range
- 修复：解决抽象树死循环情况
- 优化：重构冒号参数，支持non函数空去除
- 优化：Condition接口调整
- 版本：升级solon版本2.6.6-->2.8.6

## v1.3.3

- 新增：@insert函数
- 新增：@insertMap函数
- 新增：@insertMaps函数
- 新增：支持insert into values多个，并兼容oracle
- 优化：jdbcMapper类型选择器支持根据@Column注解判断

## v1.3.2

- 优化：SQLserver分页，根据需要自动增加order by
- 优化：支持SQLserver2008分页
- 修复：解决@*翻译
- 优化：扩充类型转换器
- 修复：解决代码生成器在mac系统无法创建目录

## v1.3.1

- 优化：枚举类型转换器支持
- 优化：字段增加关键字标识
- 优化：tdengine插入实体支持指定字段
- 优化：支持语法insert ignore into,replace into
- 优化：代码生成器优化，支持自定义模板
- 优化：flex写法支持解析参数名称
- 优化：修改executor执行顺序

## v1.3.0

- 优化：支持curtime和current_time函数
- 优化：flex写法likeLeft:LIKE CONCAT(?,'%')，likeRight:LIKE CONCAT('%',?)
- 新增：支持strcmp函数翻译
- 新增：提供stream写法，兼容plus

## v1.2.15

- 修复：解决lcase函数在其他数据库报错
- 修复：解决oracle环境下case语句报错
- 优化：jdbcMapper查询增强
- 修复：oracle、clickhouse适配
- 废弃：去除ddl支持

## v1.2.14

- 修复：解决oracle表别名存在as报错
- 优化：提升解析性能
- 优化：@函数可以不用加括号
- 新增：支持extract函数
- 新增：支持别名是中文

## v1.2.13

- 修复：解决oracle在select *情况下分页报错

## v1.2.12

- 修复：TransManager rollback时对connection进行空判断
- 修复：解决oracle分页报错
- 优化：细分数据库分页，oracle分成12之前和以及之后版本，sqlserver分为2012之前和以及之后版本
- 优化：flexMapper支持methodInfo回调

## v1.2.11

- 优化：flex支持接受字符串参数
- 新增：jdbcMapper支持基础新增（批量）、修改（批量）
- 优化：注入多租户或数据权限时，自动判断是否需要加括号
- 优化：逻辑删除、数据权限、租户支持根据表名获取字段
- 优化：租户放松，插入或更新时，若指定租户字段，不强制修改租户值
- 优化：flex支持本次执行选择方言转换，做到本次是否启用多租户等插件应用
- 版本：升级solon版本2.4.1-->2.6.6，springboot版本2.7.12-->2.7.18

## v1.2.10

- 新增：支持乐观锁
- 新增：支持自定义类型转换器
- 新增：flex写法支持乐观锁
- 优化：flex映射性能优化
- 修复：解决1.2.9改用HelperExpr造成order by忽略问题

## v1.2.9

- 优化：语法分析尽可能继承HelperExpr实现
- 新增：增加方言转换接口IStatement
- 新增：flex写法支持批量插入
- 新增：flex写法支持批量更新
- 新增：支持自定义分片策略
- 优化：支持对本次操作是否开启缓存

## v1.2.8

- 优化：分页默认offset
- 修复：解决notnull条件错误
- 修复：解决日期转换错误
- 新增：支持clickhouse
- 新增：tdengine支持指定tag字段
- 新增：支持查询对象类型为List
- 新增：新增翻译语法，curdate()+interval 1 day

## v1.2.7

- 优化：sql执行参数缓存参数名，可支持记录字段变更
- 修复：解决配置文件配置多个监听器报错
- 优化：重构action实现，增加loop
- 新增：提供provider注解
- 新增：提供processor注解，ActionProcessor接口
- 新增：基于提供processor注解、ActionProcessor接口，提供Fetch注解、EasyFetch注解完成一对一，一对多，多对多操作

## v1.2.6

- 优化：TableInfo结构优化，去除属性fieldMap
- 修复：oracle环境下，因分页翻译新增order by排序导致查询错误
- 优化：链式插入支持valuesMap，动态指定插入字段
- 优化：tdengine链式写法支持valuesStrMap，动态指定插入字段
- 优化：监听器异常放松，有SQLException->Throwable

## v1.2.5

- 修复：解决链式条件between参数未使用占位符
- 新增：类型选择器支持LocalDate，LocalDateTime
- 优化：支持tableInfo对象获取表对应的java实体类
- 优化：恢复之前逻辑删除逻辑，删除标识和未删除标识根据自定义值判断

## v1.2.4

- 优化：支持配置文件配置扫描的包
- 优化：当指定多包扫描时，若类已经被扫描，无需再次解析
- 优化：模板操作条件注解支持手动指定映射数据库字段
- 优化：修改映射拦截接口参数
- 修复：解决参数格式为a.b的特殊标识`:`无法转化转化为@?
- 修复：解决当存在where子查询的表名和主表一样事，@*函数主表别名识别错误

## v1.2.3

- 修复：解决因特殊标识引入的函数造成分页死循环问题
- 优化：逻辑删除未删除标识仅仅用不等于删除标识判断
- 优化：链式操作支持查看字符串sql
- 新增：代码生成器

## v1.2.2

- 优化：树查询结构调整
- 新增：链式查询支持树查询
- 优化：校验注解Unique重命名为NotExist，并功能增强
- 新增：模板删除支持校验
- 优化：修改链式默认参数值
- 优化：修改链式类命名
- 优化：抽象树支持clone
- 修复：解决链式分页查询数据为总数
- 修复：解决链式插入类型转换错误与删除没有表和条件
- 修复：解决mapper分页统计占位符没有设置值
- 优化：对分页统计语句将查询字段在非distinct和非union情况下设置为count(*)

## v1.2.1

- 新增：支持事务管理
- 新增：链式操作支持exists
- 优化：表和字段映射允许为空，自动取默认值
- 新增：支持时序数据库插入实体
- 修复：解决链式分页统计带分页参数

## v1.2.0

- 新增：增加特殊解析':'、'$'和'#'
- 新增：支持动态表名，开启后，缓存失效
- 优化：链式语法结构调整
- 新增：适配tdengine语法
- 修复：解决分页统计设置查询字段为1
- 优化：新增数字抽象树

## v1.1.2

- 优化：模板操作校验手动抛异常改成返回字符串不为空即可
- 修复：改正校验注解Length使用正确的校验类
- 优化：查询分页，若传入总数量参数不等于0则不进行总数查询
- 修复：链式SQL中case语句else未加单引号
- 修复：解决链式SQL条件相等右侧总是占位符
- 修复：解决链式SQL排序orderBy不支持多个

## v1.1.1

- 优化：映射获取getter和setter采用手写
- 修复：分页翻译采用手动构建抽象树，加快性能以及避免自定义@函数失效
- 优化：修改关键字插件用法，可根据应用的@函数解析器判断是否进一步解析

## v.1.1.0

- 新增:支持多主键
- 新增:支持ddl语句
- 新增:支持不翻译执行SQL语句
- 新增:支持apt控制是否开启等配置
- 新增:支持识别SQL部分特有函数，即便这部分没有做翻译
- 优化:映射性能优化，性能进一步提高

## v.1.0.0

**初始化dream-orm**

- 新增：支持查询分页
- 新增：支持监听器
- 新增：支持代理插件
- 新增：支持mapper接口操作，也提供ActionProvider写法进行接口增强
- 新增：支持模板操作，可进行参数修改，默认值注入，数据校验等
- 新增：支持链式操作
- 新增：支持链式强化操作
- 新增：支持统一或单独对数据库查询数据进行拦截
- 新增：支持主键序列
- 新增：支持关键字拦截
- 新增：支持数据权限
- 新增：支持多数据源
- 新增：支持多租户
- 新增：支持逻辑删除
